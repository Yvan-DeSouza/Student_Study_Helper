{% extends "base.html" %}
{% block title %}Dashboard | StudyMate{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/chart.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/charts.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
{% endblock %}

{% block navbar %}
<nav class="navbar card">
    <div class="nav-left">
        <img src="{{ url_for('static', filename='images/study_logo.png') }}"
             class="nav-logo"
             alt="StudyMate logo">
        <span class="brand-name">StudyMate</span>
    </div>

    <div class="nav-center">
        <a href="{{ url_for('main.home') }}" class="nav-link">Home</a>
        <a href="{{ url_for('classes.list_classes') }}" class="nav-link">Classes</a>
        <a href="{{ url_for('assignment.list_assignments') }}" class="nav-link">Assignments</a>
        <a href="{{ url_for('study.study_sessions') }}" class="nav-link">Study Sessions</a>
        <a href="{{ url_for('dashboard.graphs') }}" class="nav-link active">Dashboard</a>
        <a href="{{ url_for('calendar.home') }}" class="nav-link">Calendar</a>
    </div>

    <div class="nav-right">
        <a href="{{ url_for('auth.logout') }}" class="logout-link">Logout</a>
        <div class="user-avatar">
            <img src="{{ url_for('static', filename='images/user_avatar.png') }}" alt="User avatar">
        </div>
        <button class="theme-toggle" aria-label="Toggle theme">
            <span class="toggle-icon">‚òÄÔ∏è</span>
        </button>
    </div>
</nav>
{% endblock %}

{% block content %}
<div class="dashboard-shell">
  <!-- Side Navigation Bar -->
  <div class="dashboard-side-nav" id="dashboardSideNav">
    <button class="side-nav-btn" data-target="performance" aria-label="Performance & Trends">
      <span class="nav-icon">üìä</span>
      <span class="nav-label">Performance</span>
    </button>

    <button class="side-nav-btn" data-target="risk" aria-label="Risk & Urgency">
      <span class="nav-icon">‚ö†Ô∏è</span>
      <span class="nav-label">Risk</span>
    </button>

    <button class="side-nav-btn" data-target="effort" aria-label="Effort & Efficiency">
      <span class="nav-icon">‚ö°</span>
      <span class="nav-label">Effort</span>
    </button>
  </div>

  <main class="dashboard-content">
    <div class="dashboard-container">
      {% include 'partials/dashboard/perfomance.html' %}
      {% include 'partials/dashboard/risk.html' %}
      {% include 'partials/dashboard/effort.html' %}
    </div>
  </main>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/charts/chart_effort.js') }}"></script>
<script src="{{ url_for('static', filename='js/charts/chart_performance.js') }}"></script>
<script src="{{ url_for('static', filename='js/charts/chart_risk.js') }}"></script>
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}